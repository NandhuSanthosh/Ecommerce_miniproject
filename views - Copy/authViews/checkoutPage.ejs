<!doctype html>
<html lang="en">

<head>
        <%- include('../generalPartials/_head.ejs') %>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
        <link rel="stylesheet" href="../../css/checkoutPage.css">
        <script>
            let order = <%- JSON.stringify(locals.orderDoc) %> ;
            let userAddress = <%- JSON.stringify(locals.userAddress) %> ; 
        </script>
</head>

<body>
            <%- include('./partials/home/_header.ejs') %>
        <header class="checkout-header">
            <div class="d-flex justify-content-between align-items-center container">
                <div class="header-text">Checkout</div>
                <div></div>
            </div>
        </header>

        <main>
            <section class="container">
                <div class="row">
                    <div class="form-container col-12 col-md-8">
    
                        <div class="section1">
                            <div class="section-header d-flex gap-3">
                                <div class="index">1</div>
                                <div class="header">Delivery address</div>
                            </div>
            
                            <div class="px-1 ps-md-3 ps-lg-5">
                                <div class="address-list-container">
                                    <div class="address-list-header">
                                        <div>Your Addresses</div>
                                    </div>
                                    <hr>
                                    <div class="address-list">

                                    </div>
                                    <div class="new-address-container">
                                        <!-- Add address starts here -->
                                        <!-- Add address btn starts here -->
                                        <p class="text-end">
                                            <button id="address_collapse_btn" class="btn btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample"
                                                aria-expanded="false" aria-controls="collapseExample">
                                                Add address
                                            </button>
                                        </p>
                                        <!-- Add address btn ends here -->
                                        <!-- Add address collapse starts here -->
                                        <div class="collapse" id="collapseExample">
                                            <div class="card card-body">
                                                <div class="editAddressContent">
                                                    <div class="mb-3">
                                                        <label for="addressFullName">Name</label>
                                                        <input type="text" class="form-control" id="addressFullName" aria-describedby="name"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="addressMobile">Mobile</label>
                                                        <input type="text" class="form-control" id="addressMobile" aria-describedby="mobile"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="addressPincode">Pincode</label>
                                                        <input type="text" class="form-control" id="addressPincode" aria-describedby="pincode"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="addressAddressLine1">Address Line 1</label>
                                                        <input type="text" class="form-control" id="addressAddressLine1" aria-describedby="addressLine1"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="addressAddressLine2">Address Line 2</label>
                                                        <input type="text" class="form-control" id="addressAddressLine2" aria-describedby="addressLine2"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="addressLandmark">Landmark</label>
                                                        <input type="text" class="form-control" id="addressLandmark" aria-describedby="landmark"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="addressState">State</label>
                                                        <input type="text" class="form-control" id="addressState" aria-describedby="state"
                                                            value="">
                                                    </div>
                                                    <div class="mb-3">
                                                        <div class="d-flex justify-content-between">
                                                            <button class="btn btn-secondary" id="editCancelBtn">Cancel</button>
                                                            <button class="btn btn-primary" id="addAddressBtn">Add</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Add address collapse ends here -->
                                        <!-- Add address ends here -->
                                    </div>
                                </div>
                            </div> 
                        </div>
    
                        <hr class="mt-4">
    
                        <div class="section2">
                            <div class="section-header d-flex gap-3">
                                <div class="index">2</div>
                                <div class="header">Payment Method</div>
                            </div>
                            <div class="px-1 ps-md-3 ps-lg-5">
                                <div class="address-list-container">
                                    <div class="address-list-header">
                                        <div>Available Payment Methods</div>
                                    </div>
                                    <hr>
                                    <div class="address-list">
                                        <div class="address d-flex align-items-start gap-2 mb-2">
                                            <input type="radio" name="payment-method" value="COD" class="mt-2">
                                            <div class="address-content">
                                                <div class="fw-bold">Cash on Delivery/Pay on Delivery</div>
                                                    <div>Cash, UPI and Cards accepted on delivery.</div>
                                            </div>
                                        </div>
                                        <div class="address d-flex align-items-start gap-2 mb-2">
                                            <input type="radio" name="payment-method" value="online-payment" class="mt-2">
                                            <div class="address-content">
                                                <div class="fw-bold">Online Payment</div>
                                                    <div>Cart, Upi, Netbanking, Wallet, EMI, PayLater are available.</div>
                                            </div>
                                        </div>
                                        <div class="address d-flex align-items-start gap-2 mb-2">
                                            <input type="radio" name="payment-method" value="wallet" class="mt-2">
                                            <div class="address-content w-100">
                                                <div class="d-flex justify-content-between">
                                                    <div class="fw-bold">Wallet</div>
                                                    <div >Balance: <span class="fw-bold">â‚¹ <span class="wallet_balance"></span></span></div>
                                                </div>
                                                <div>You can now pay using you wallet.</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>                    
    
                    </div>
    
                    <div class="col-12 col-md">
                        <div class="summary-container">
                            <div class="header">
                                Order Summary
                            </div>
                            <div class="details">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>Items:</div>
                                    <div class="without-discounts">â‚¹2,599.00</div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>Discount:</div>
                                    <div class="discount">â‚¹2,599.00</div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>Delivery:</div>
                                    <div class="delivery-charge">â‚¹40.00</div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center free-delivery-container d-none">
                                    <div>Free Delivery:</div>
                                    <div class="free-delivery">40.00</div>
                                </div>
                                <!-- <div class="d-flex justify-content-between align-items-center">
                                    <div>Total:</div>
                                    <div>â‚¹2,639.00</div>
                                </div> -->
                            </div>

                            <hr>

                            <div class="total">
                                <div class="d-flex justify-content-between">
                                    <div>Order Total:</div>
                                    <div class="amount">â‚¹2,599.00</div>
                                </div>
                            </div>
                            
                            
                            <hr>

                            <div class="coupon-discount-info d-none">
                                <p class="mb-0">Your coupon discount: â‚¹ <span class="coupon-discount">940.00</span></p>
                                <hr>
                            </div>

                            <div>
                                <p class="discount">Your Savings: â‚¹ <span class="discount-figure">940.00</span> (<span class="discount-percentage">27</span>%)</p>
                                <ul>
                                    <li>Free Delivery</li>
                                </ul>
                            </div>
                            <hr class="mx-3">

                            <div class="place-order-btn-container d-flex justify-content-center">
                                <button class="place-order-btn" id="placeOrderBtn">Place your order</button>
                            </div>
                            <hr class="mx-3">


                            <div class="coupen-container">
                                <div class="coupen-input-show-button fs-14 d-flex align-items-center gap-2">
                                    <span>Have a coupen?</span>
                                    <button class="btn btn-link fs-14 p-0 m-0 coupen-input-show-btn">Click here to enter your code</button>
                                </div>
                                <div class="coupen-input-container mt-2">
                                    <input type="text" class="form-control mb-2 coupen-input d-none">
                                    <div class="coupen-code-success d-none">
                                        Coupen code <span class="coupen_code fw-bold">Coupen_code</span> has been applied to your order.
                                    </div>
                                    <button type="button" class="btn btn-secondary w-100 apply-coupen-btn d-none" disabled>Apply Coupen Code</button>
                                    <button type="button" class="btn btn-secondary w-100 remove-coupen-btn d-none">Remove Coupen Code</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
</body>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../../js/user/checkoutPage.js"></script>
    <%- include('../utilityViews/alertModel.ejs') %>
    <%- include("../generalPartials/_jqueryJs.ejs") %>
    <%- include("../generalPartials/_bootstrapJS.ejs")%>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</html>